<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfume AI Chatbot</title>
    <link rel="stylesheet" href="../css/chatbot-styles.css">
</head>
<body>
    <div class="chatbot-container-wrapper">
        <div class="container">
            <div class="terminal_toolbar">
                <div class="butt">
                    <button class="btn btn-color red"></button>
                    <button class="btn btn-color yellow"></button>
                    <button class="btn btn-color green"></button>
                </div>
                <p class="user">Bliss<span class="flower-emoji">ðŸŒ¸</span>: ~</p>
                <div class="spinner" id="ai-loading-spinner">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
            <div class="terminal_body" id="chat-messages">
                <div class="terminal_promt">
                    <span class="terminal_user">Bliss<span class="flower-emoji">ðŸŒ¸</span>:</span>
                    <span class="terminal_location">~</span>
                    <span class="terminal_bling">$</span>
                    <span>Hi I'm Bliss ðŸŒ¸ your personal AI for anything Fragrances !!!!!</span>
                </div>
            </div>
            <div class="terminal_input_area">
                <span class="terminal_user">Bliss<span class="flower-emoji">ðŸŒ¸</span>:</span>
                <span class="terminal_bling">$</span>
                <input type="text" id="user-input" class="terminal_input" placeholder="Type your message...">
                <label class="voice-input-container">
                    <input type="checkbox" id="voiceToggle">
                    <svg viewBox="0 0 384 512" height="1em" xmlns="http://www.w3.org/2000/svg" class="microphone">
                        <path d="M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"></path>
                    </svg>
                    <div class="loader">
                        <div class="box-load1"></div>
                        <div class="box-load2"></div>
                        <div class="box-load3"></div>
                    </div>
                </label>
            </div>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const voiceToggle = document.getElementById('voiceToggle');

        const placeholderOptions = [
            "What perfume should I wear for a summer wedding?",
            "Suggest a long-lasting fragrance for men.",
            "Can you recommend a perfume for a job interview?",
            "What are good layering combinations for floral scents?",
            "Tell me about the notes in Chanel No. 5.",
            "What fashion style pairs well with woody perfumes?"
        ];
        let currentPlaceholderIndex = 0;

        function updatePlaceholder() {
            userInput.placeholder = placeholderOptions[currentPlaceholderIndex];
            currentPlaceholderIndex = (currentPlaceholderIndex + 1) % placeholderOptions.length;
        }

        setInterval(updatePlaceholder, 4000);

        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const userMessage = userInput.value;
                if (userMessage.trim() !== '') {
                    appendMessage('user', userMessage);
                    userInput.value = '';
                    
                    // Simulate AI response
                    setTimeout(() => {
                        appendMessage('bot', `AI: You asked about "${userMessage}"`);
                        userInput.focus();
                    }, 1500);
                }
            }
        });

        voiceToggle.addEventListener('change', function() {
            if (this.checked) {
                console.log('Voice input enabled (simulated).');
                userInput.placeholder = "Speak your message...";
            } else {
                console.log('Voice input disabled (simulated).');
                updatePlaceholder();
            }
        });


        function appendMessage(sender, message) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('terminal_promt');
            
            const userSpan = document.createElement('span');
            userSpan.classList.add('terminal_user');
            userSpan.innerHTML = 'Bliss<span class="flower-emoji">ðŸŒ¸</span>:';
            messageDiv.appendChild(userSpan);

            const blingSpan = document.createElement('span');
            blingSpan.classList.add('terminal_bling');
            blingSpan.textContent = '$';
            messageDiv.appendChild(blingSpan);

            const textSpan = document.createElement('span');
            textSpan.textContent = message;
            messageDiv.appendChild(textSpan);

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        window.onload = function() {
            updatePlaceholder();
            userInput.focus();
        };
    </script>
</body>
</html>